(function(e){var t,n,r,o,a,s,i,u,f,l,c,d,p,h,y,v,g,m,b,x,E,w,L,T,R,D,N=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};l=null,l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"undefined"!=typeof global?global:window,g=l.document,u="addEventListener",i="removeEventListener",r="dispatchEvent",h="XMLHttpRequest",f=["load","loadend","loadstart"],t=["progress","abort","error","timeout"],T="undefined"!=typeof navigator&&navigator.useragent?navigator.userAgent:"",x=parseInt((/msie (\d+)/.exec(T.toLowerCase())||[])[1]),isNaN(x)&&(x=parseInt((/trident\/.*; rv:(\d+)/.exec(T.toLowerCase())||[])[1])),(D=Array.prototype).indexOf||(D.indexOf=function(e){var t,n,r;for(t=n=0,r=this.length;n<r;t=++n)if(this[t]===e)return t;return-1}),L=function(e,t){return Array.prototype.slice.call(e,t)},v=function(e){return"returnValue"===e||"totalSize"===e||"position"===e},b=function(e,t){var n;for(n in e)if(e[n],!v(n))try{t[n]=e[n]}catch(e){}return t},E=function(e){return void 0===e?null:e},w=function(e,t,n){var o,a,s,i;for(a=function(e){return function(o){var a,s,i;for(s in a={},o)v(s)||(i=o[s],a[s]=i===t?n:i);return n[r](e,a)}},s=0,i=e.length;s<i;s++)o=e[s],n._has(o)&&(t["on"+o]=a(o))},m=function(e){var t;if(g&&null!=g.createEventObject)return(t=g.createEventObject()).type=e,t;try{return new Event(e)}catch(t){return{type:e}}},(R=(n=function(t){var n,o,a;return o={},a=function(e){return o[e]||[]},(n={})[u]=function(t,n,r){o[t]=a(t),o[t].indexOf(n)>=0||(r=r===e?o[t].length:r,o[t].splice(r,0,n))},n[i]=function(t,n){var r;t!==e?(n===e&&(o[t]=[]),-1!==(r=a(t).indexOf(n))&&a(t).splice(r,1)):o={}},n[r]=function(){var e,r,o,s,i,u,f;for(r=(e=L(arguments)).shift(),t||(e[0]=b(e[0],m(r))),(s=n["on"+r])&&s.apply(n,e),o=i=0,u=(f=a(r).concat(a("*"))).length;i<u;o=++i)f[o].apply(n,e)},n._has=function(e){return!(!o[e]&&!n["on"+e])},t&&(n.listeners=function(e){return L(a(e))},n.on=n[u],n.off=n[i],n.fire=n[r],n.once=function(e,t){var r;return r=function(){return n.off(e,r),t.apply(null,arguments)},n.on(e,r)},n.destroy=function(){return o={}}),n})(!0)).EventEmitter=n,R.before=function(e,t){if(e.length<1||e.length>2)throw"invalid hook";return R[u]("before",e,t)},R.after=function(e,t){if(e.length<2||e.length>3)throw"invalid hook";return R[u]("after",e,t)},R.enable=function(){l[h]=p,"function"==typeof c&&(l.fetch=c),a&&(l.FormData=d)},R.disable=function(){l[h]=R[h],l.fetch=R.fetch,a&&(l.FormData=a)},y=R.headers=function(e,t){var n,r,o,a,s,i,u,f,l;switch(null==t&&(t={}),typeof e){case"object":for(o in r=[],e)s=e[o],a=o.toLowerCase(),r.push(a+":\t"+s);return r.join("\n")+"\n";case"string":for(u=0,f=(r=e.split("\n")).length;u<f;u++)n=r[u],/([^:]+):\s*(.+)/.test(n)&&(a=null!=(l=RegExp.$1)?l.toLowerCase():void 0,i=RegExp.$2,null==t[a]&&(t[a]=i));return t}},a=l.FormData,d=function(e){var t,n;this.fd=e?new a(e):new a,this.form=e,t=[],Object.defineProperty(this,"entries",{get:function(){return(e?L(e.querySelectorAll("input,select")).filter(function(e){var t;return"checkbox"!==(t=e.type)&&"radio"!==t||e.checked}).map(function(e){return[e.name,"file"===e.type?e.files:e.value]}):[]).concat(t)}}),this.append=(n=this,function(){var e;return e=L(arguments),t.push(e),n.fd.append.apply(n.fd,e)})},a&&(R.FormData=a,l.FormData=d),s=l[h],R[h]=s,p=l[h]=function(){var e,o,a,s,i,l,c,p,v,g,m,L,T,D,C,O,S,A,H,M;S=new R[h],T=null,l=void 0,D=void 0,m=void 0,v=function(){var e,t,n,r;if(m.status=T||S.status,-1===T&&x<10||(m.statusText=S.statusText),-1!==T)for(e in r=y(S.getAllResponseHeaders()))n=r[e],m.headers[e]||(t=e.toLowerCase(),m.headers[t]=n)},p=function(){if(S.responseType&&"text"!==S.responseType)"document"===S.responseType?(m.xml=S.responseXML,m.data=S.responseXML):m.data=S.response;else{m.text=S.responseText,m.data=S.responseText;try{m.xml=S.responseXML}catch(e){}}"responseURL"in S&&(m.finalUrl=S.responseURL)},O=function(){i.status=m.status,i.statusText=m.statusText},C=function(){"text"in m&&(i.responseText=m.text),"xml"in m&&(i.responseXML=m.xml),"data"in m&&(i.response=m.data),"finalUrl"in m&&(i.responseURL=m.finalUrl)},a=function(t){for(;t>e&&e<4;)i.readyState=++e,1===e&&i[r]("loadstart",{}),2===e&&O(),4===e&&(O(),C()),i[r]("readystatechange",{}),4===e&&(!1===g.async?o():setTimeout(o,0))},o=function(){l||i[r]("load",{}),i[r]("loadend",{}),l&&(i.readyState=0)},e=0,L=function(e){var t,n;4===e?(t=R.listeners("after"),(n=function(){var e;return t.length?2===(e=t.shift()).length?(e(g,m),n()):3===e.length&&g.async?e(g,m,n):n():a(4)})()):a(e)},i=(g={}).xhr=n(),S.onreadystatechange=function(e){try{2===S.readyState&&v()}catch(e){}4===S.readyState&&(D=!1,v(),p()),L(S.readyState)},c=function(){l=!0},i[u]("error",c),i[u]("timeout",c),i[u]("abort",c),i[u]("progress",function(){e<3?L(3):i[r]("readystatechange",{})}),("withCredentials"in S||R.addWithCredentials)&&(i.withCredentials=!1),i.status=0;for(A=0,H=(M=t.concat(f)).length;A<H;A++)s=M[A],i["on"+s]=null;return i.open=function(t,n,r,o,a){e=0,l=!1,D=!1,g.headers={},g.headerNames={},g.status=0,(m={}).headers={},g.method=t,g.url=n,g.async=!1!==r,g.user=o,g.pass=a,L(1)},i.send=function(e){var n,r,o,a,s,u,l,c;for(u=0,l=(c=["type","timeout","withCredentials"]).length;u<l;u++)(o="type"===(r=c[u])?"responseType":r)in i&&(g[r]=i[o]);g.body=e,s=function(){var e,n,a,s,u,l;for(w(t,S,i),i.upload&&w(t.concat(f),S.upload,i.upload),D=!0,S.open(g.method,g.url,g.async,g.user,g.pass),a=0,s=(u=["type","timeout","withCredentials"]).length;a<s;a++)o="type"===(r=u[a])?"responseType":r,r in g&&(S[o]=g[r]);for(e in l=g.headers)n=l[e],e&&S.setRequestHeader(e,n);g.body instanceof d&&(g.body=g.body.fd),S.send(g.body)},n=R.listeners("before"),(a=function(){var e,t;return n.length?((e=function(e){if("object"==typeof e&&("number"==typeof e.status||"number"==typeof m.status))return b(e,m),N.call(e,"data")<0&&(e.data=e.response||e.text),void L(4);a()}).head=function(e){return b(e,m),L(2)},e.progress=function(e){return b(e,m),L(3)},1===(t=n.shift()).length?e(t(g)):2===t.length&&g.async?t(g,e):e()):s()})()},i.abort=function(){T=-1,D?S.abort():i[r]("abort",{})},i.setRequestHeader=function(e,t){var n,r;n=null!=e?e.toLowerCase():void 0,r=g.headerNames[n]=g.headerNames[n]||e,g.headers[r]&&(t=g.headers[r]+", "+t),g.headers[r]=t},i.getResponseHeader=function(e){var t;return t=null!=e?e.toLowerCase():void 0,E(m.headers[t])},i.getAllResponseHeaders=function(){return E(y(m.headers))},S.overrideMimeType&&(i.overrideMimeType=function(){return S.overrideMimeType.apply(S,arguments)}),S.upload&&(i.upload=g.upload=n()),i.UNSENT=0,i.OPENED=1,i.HEADERS_RECEIVED=2,i.LOADING=3,i.DONE=4,i.response="",i.responseText="",i.responseXML=null,i.readyState=0,i.statusText="",i},"function"==typeof l.fetch&&(o=l.fetch,R.fetch=o,c=l.fetch=function(e,t){var n,r,a;return null==t&&(t={headers:{}}),t.url=e,a=null,r=R.listeners("before"),n=R.listeners("after"),new Promise(function(e,s){var i,u,f,l,c;u=function(){return t.body instanceof d&&(t.body=t.body.fd),t.headers&&(t.headers=new Headers(t.headers)),a||(a=new Request(t.url,t)),b(t,a)},f=function(t){var r;return n.length?2===(r=n.shift()).length?(r(u(),t),f(t)):3===r.length?r(u(),t,f):f(t):e(t)},i=function(t){var n;if(void 0!==t)return n=new Response(t.body||t.text,t),e(n),void f(n);l()},l=function(){var e;if(r.length)return 1===(e=r.shift()).length?i(e(t)):2===e.length?e(u(),i):void 0;c()},c=function(){return o(u()).then(function(e){return f(e)}).catch(function(e){return f(e),s(e)})},l()})}),p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,l.xhook=R}).call(this);